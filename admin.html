
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Painel do Administrador</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    #form-cadastro, #tabela-usuarios { display: none; margin-top: 10px; }
    table { width: 100%; border-collapse: collapse; }
    table, th, td { border: 1px solid #ccc; }
    th, td { padding: 6px; text-align: left; }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js">
function formatarData(dataFirestore) {
  if (!dataFirestore || !dataFirestore.toDate) return "";
  const data = dataFirestore.toDate();
  const dia = String(data.getDate()).padStart(2, '0');
  const mes = String(data.getMonth() + 1).padStart(2, '0');
  const ano = data.getFullYear();
  const hora = String(data.getHours()).padStart(2, '0');
  const min = String(data.getMinutes()).padStart(2, '0');
  return `${dia}/${mes}/${ano} ${hora}:${min}`;
}

</script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js">
function formatarData(dataFirestore) {
  if (!dataFirestore || !dataFirestore.toDate) return "";
  const data = dataFirestore.toDate();
  const dia = String(data.getDate()).padStart(2, '0');
  const mes = String(data.getMonth() + 1).padStart(2, '0');
  const ano = data.getFullYear();
  const hora = String(data.getHours()).padStart(2, '0');
  const min = String(data.getMinutes()).padStart(2, '0');
  return `${dia}/${mes}/${ano} ${hora}:${min}`;
}

</script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js">
function formatarData(dataFirestore) {
  if (!dataFirestore || !dataFirestore.toDate) return "";
  const data = dataFirestore.toDate();
  const dia = String(data.getDate()).padStart(2, '0');
  const mes = String(data.getMonth() + 1).padStart(2, '0');
  const ano = data.getFullYear();
  const hora = String(data.getHours()).padStart(2, '0');
  const min = String(data.getMinutes()).padStart(2, '0');
  return `${dia}/${mes}/${ano} ${hora}:${min}`;
}

</script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js">
function formatarData(dataFirestore) {
  if (!dataFirestore || !dataFirestore.toDate) return "";
  const data = dataFirestore.toDate();
  const dia = String(data.getDate()).padStart(2, '0');
  const mes = String(data.getMonth() + 1).padStart(2, '0');
  const ano = data.getFullYear();
  const hora = String(data.getHours()).padStart(2, '0');
  const min = String(data.getMinutes()).padStart(2, '0');
  return `${dia}/${mes}/${ano} ${hora}:${min}`;
}

</script>
  <script src="js/firebase-config.js">
function formatarData(dataFirestore) {
  if (!dataFirestore || !dataFirestore.toDate) return "";
  const data = dataFirestore.toDate();
  const dia = String(data.getDate()).padStart(2, '0');
  const mes = String(data.getMonth() + 1).padStart(2, '0');
  const ano = data.getFullYear();
  const hora = String(data.getHours()).padStart(2, '0');
  const min = String(data.getMinutes()).padStart(2, '0');
  return `${dia}/${mes}/${ano} ${hora}:${min}`;
}

</script>
</head>
<body>
  <h2>Painel do Administrador</h2>

  <button onclick="toggle('form-cadastro')">+ Novo Usu√°rio</button>
  <div id="form-cadastro">
    <input id="nome" placeholder="Nome completo">
    <input id="email" placeholder="Email" type="email">
    <input id="senha" placeholder="Senha" type="password">
    <select id="tipo">
      <option value="cliente">Cliente</option>
      <option value="tecnico">T√©cnico</option>
      <option value="admin">Administrador</option>
    </select>
    <button onclick="cadastrarUsuario()">Cadastrar</button>
  </div>

  <button onclick="toggle('tabela-usuarios')">üë• Ver Usu√°rios</button>
  <div id="tabela-usuarios">
    <table>
      <thead><tr><th>Nome</th><th>Email</th><th>Tipo</th><th>A√ß√£o</th></tr></thead>
      <tbody id="lista-usuarios"></tbody>
    </table>
  </div>

  <hr>
  <h3>Gerenciar Chamados</h3>
  <button onclick="filtrarChamados('Aberto')">Abertos</button>
  <button onclick="filtrarChamados('Em Andamento')">Em Andamento</button>
  <button onclick="filtrarChamados('Resolvido')">Resolvidos</button>
  <div id="lista-chamados">Carregando chamados...</div>

  <script>
    const db = firebase.firestore();
    const auth = firebase.auth();

    auth.onAuthStateChanged(user => {
      if (!user) return location.href = "login-admin.html";
      carregarUsuarios();
      filtrarChamados("Aberto");
    });

    function toggle(id) {
      const el = document.getElementById(id);
      el.style.display = el.style.display === "none" ? "block" : "none";
    }

    function cadastrarUsuario() {
      const nome = document.getElementById("nome").value;
      const email = document.getElementById("email").value;
      const senha = document.getElementById("senha").value;
      const tipo = document.getElementById("tipo").value;

      firebase.auth().createUserWithEmailAndPassword(email, senha)
        .then(cred => db.collection("usuarios").doc(cred.user.uid).set({ nome, email, tipo }))
        .then(() => {
          alert("Usu√°rio cadastrado com sucesso!");
          carregarUsuarios();
        })
        .catch(e => alert("Erro: " + e.message));
    }

    function carregarUsuarios() {
      db.collection("usuarios").onSnapshot(snapshot => {
        const lista = document.getElementById("lista-usuarios");
        lista.innerHTML = "";
        snapshot.forEach(doc => {
    const criadoEm = formatarData(doc.data().criadoEm);
          const u = doc.data();
          lista.innerHTML += `‚è∞ Aberto em: ${criadoEm}<br>
            <tr>
              <td>${u.nome}</td>
              <td>${u.email}</td>
              <td>${u.tipo}</td>
              <td>
                <select onchange="alterarTipo('${doc.id}', this.value)">
                  <option value="cliente" ${u.tipo === 'cliente' ? 'selected' : ''}>Cliente</option>
                  <option value="tecnico" ${u.tipo === 'tecnico' ? 'selected' : ''}>T√©cnico</option>
                  <option value="admin" ${u.tipo === 'admin' ? 'selected' : ''}>Administrador</option>
                </select>
              </td>
            </tr>
          `;
        });
      });
    }

    function alterarTipo(uid, novoTipo) {
      db.collection("usuarios").doc(uid).update({ tipo: novoTipo })
        .then(() => alert("Tipo de usu√°rio atualizado!"));
    }

    function filtrarChamados(status) {
      db.collection("chamados").where("status", "==", status)
        .onSnapshot(snapshot => {
          const lista = document.getElementById("lista-chamados");
          lista.innerHTML = "";
          snapshot.forEach(doc => {
    const criadoEm = formatarData(doc.data().criadoEm);
            const c = doc.data();
            const id = doc.id;
            lista.innerHTML += `‚è∞ Aberto em: ${criadoEm}<br>
              <div style="border:1px solid #ccc; padding:10px; margin:10px 0;">
                <b>${c.nome}</b> - ${c.email}<br>
                ${c.empresa} / ${c.setor}<br>
                ${c.mensagem}<br>
                <b>Status:</b> ${c.status}<br>
                <button onclick="mudarStatus('${id}', '${proximoStatus(c.status)}')">Mover para ${proximoStatus(c.status)}</button>
                <button onclick="removerChamado('${id}')">Excluir</button>
                ${c.status === "Resolvido" ? `<button onclick="gerarPDF('${id}', \`${c.nome}\`, \`${c.email}\`, \`${c.empresa}\`, \`${c.setor}\`, \`${c.mensagem}\`, \`${c.observacaoTecnica || ''}\`)">Gerar PDF</button>` : ""}
              </div>
            `;
          });
        });
    }

    function proximoStatus(status) {
      return status === "Aberto" ? "Em Andamento" : status === "Em Andamento" ? "Resolvido" : "Aberto";
    }

    function mudarStatus(id, novoStatus) {
      db.collection("chamados").doc(id).update({ status: novoStatus });
    }

    function removerChamado(id) {
      if (confirm("Deseja excluir este chamado?")) {
        db.collection("chamados").doc(id).delete();
      }
    }

    function gerarPDF(id, nome, email, empresa, setor, mensagem, observacao) {
const img = new Image();
img.src = "data:image/png;base64,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";
img.onload = () => {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  doc.addImage(img, 'PNG', 55, 40, 100, 100);  // Centralizado e com tamanho m√©dio

  doc.setFontSize(12);
  doc.text("Chamado Resolvido", 10, 10);

  doc.text(`Nome: ${nome}`, 10, 20);
  doc.text(`Email: ${email}`, 10, 30);
  doc.text(`Empresa: ${empresa}`, 10, 40);
  doc.text(`Setor: ${setor}`, 10, 50);
  doc.text(`Mensagem: ${mensagem}`, 10, 60);
  doc.text(`Observa√ß√£o T√©cnica: ${observacao}`, 10, 70);

  doc.setFontSize(10);
  doc.text("WG INFORMATICA ‚Ä¢ SUPORTE E MANUTEN√á√ÉO DE COMPUTADORES", 10, 270);
  doc.text("CNPJ: 18.227.202/0001-36", 10, 276);
  doc.text("RUA DR. FELICIANO SODR√â, 182 - SALA 301 - CENTRO - S√ÉO GON√áALO - RJ", 10, 282);

  doc.save(`chamado-${id}.pdf`);
};

  return;
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.setFontSize(14);
doc.text("WG INFORMATICA", 10, 10);
doc.setFontSize(10);
doc.text("SUPORTE E MANUTEN√á√ÉO DE COMPUTADORES", 10, 16);
doc.text("CNPJ: 18.227.202/0001-36", 10, 22);
doc.text("RUA DR. FELICIANO SODR√â, 182 - SALA 301", 10, 28);
doc.text("CENTRO - S√ÉO GON√áALO - RJ", 10, 34);
doc.line(10, 36, 200, 36);
doc.setFontSize(12);
doc.text("Chamado Resolvido", 10, 44);
      doc.text(`Nome: ${nome}`, 10, 20);
      doc.text(`Email: ${email}`, 10, 30);
      doc.text(`Empresa: ${empresa}`, 10, 40);
      doc.text(`Setor: ${setor}`, 10, 50);
      doc.text(`Mensagem: ${mensagem}`, 10, 60);
      doc.text(`Observa√ß√£o T√©cnica: ${observacao}`, 10, 70);
      doc.save(`chamado-${id}.pdf`);
    }
  
function formatarData(dataFirestore) {
  if (!dataFirestore || !dataFirestore.toDate) return "";
  const data = dataFirestore.toDate();
  const dia = String(data.getDate()).padStart(2, '0');
  const mes = String(data.getMonth() + 1).padStart(2, '0');
  const ano = data.getFullYear();
  const hora = String(data.getHours()).padStart(2, '0');
  const min = String(data.getMinutes()).padStart(2, '0');
  return `${dia}/${mes}/${ano} ${hora}:${min}`;
}

</script>
</body>
</html>
